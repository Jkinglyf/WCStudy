### Ubuntu安装Nginx(没有安装第三版控制面板)
#### 快速安装
```
sudo apt-get update
apt-get install nginx
```
安装完成后查看版本

```
nginx -v
```
控制台输出：```nginx version: nginx/nginx/1.10.3 (Ubuntu)```

正常情况，nginx 安装成功之后就应该会启动了。访问80端口应该会出现 nginx 的欢迎页：默认是80端口
![](http://p2bzzkn05.bkt.clouddn.com/18-6-28/42933924.jpg)

#### 手动启动Nginx

```
/etc/init.d/nginx start     // 启动
/etc/init.d/nginx stop      // 停止
/etc/init.d/nginx restart   // 重启
```
也可以通过 service 来启动和停止 nginx：

```
service nginx start
service nginx stop
service nginx restart
```
注意，启动和停止可能要求 root 权限(命令前面添加sudo)。

### 检测是否正常启动
```
nginx -t
```
控制台如下输出表示成功启动

```
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
```
### 相关文件路径
主程序文件查询

```
 which nginx
```
控制台输出 ```/usr/sbin/nginx```

其他文件路径

- 全局配置文件： /etc/nginx/nginx.conf

- 站点的配置文件： /etc/nginx/sites-enabled/default

- 错误日志文件 ： /var/log/nginx/error.log

- 访问日志文件 ：/var/log/nginx/access.log

- 日志文件的位置可以在 /etc/nginx/nginx.conf文件中配置

- access_log /var/log/nginx/access.log; ## 访问日志文件路径名

- error_log /var/log/nginx/error.log; ## 访问日志文件错误路径名

### 修改默认端口号
```
vim /etc/nginx/sites-enabled/default
```
修改server listen部分 
如下：8001 为修改的默认端口号。

```
##
# You should look at the following URL's in order to grasp a solid understanding
# of Nginx configuration files in order to fully unleash the power of Nginx.
# http://wiki.nginx.org/Pitfalls
# http://wiki.nginx.org/QuickStart
# http://wiki.nginx.org/Configuration
#
# Generally, you will want to move this file somewhere, and start with a clean
# file but keep this around for reference. Or just disable in sites-enabled.
#
# Please see /usr/share/doc/nginx-doc/examples/ for more detailed examples.
##

# Default server configuration
#
server {
        listen 8001 default_server;
        listen [::]:80 default_server;

        # SSL configuration
        #
        # listen 443 ssl default_server;
        # listen [::]:443 ssl default_server;
        #
        # Note: You should disable gzip for SSL traffic.
        # See: https://bugs.debian.org/773332
        #
        # Read up on ssl_ciphers to ensure a secure configuration.
        # See: https://bugs.debian.org/765782
        #
        # Self signed certs generated by the ssl-cert package
        # Don't use them in a production server!
        #
        # include snippets/snakeoil.conf;

        root /var/www/html;

        # Add index.php to the list if you are using PHP
	index index.html index.htm index.nginx-debian.html;

        server_name _;

        location / {
                # First attempt to serve request as file, then
                # as directory, then fall back to displaying a 404.
                try_files $uri $uri/ =404;
        }

        # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000
        #
        #location ~ \.php$ {
        #       include snippets/fastcgi-php.conf;
        #
        #       # With php7.0-cgi alone:
        #       fastcgi_pass 127.0.0.1:9000;
        #       # With php7.0-fpm:
        #       fastcgi_pass unix:/run/php/php7.0-fpm.sock;
        #}

        # deny access to .htaccess files, if Apache's document root
        # concurs with nginx's one
        #
        #location ~ /\.ht {
        #       deny all;
        #}
}
# Virtual Host configuration for example.com
#
# You can move that to a different file under sites-available/ and symlink that
# to sites-enabled/ to enable it.
#
#server {
#       listen 80;
#       listen [::]:80;
#
#       server_name example.com;
#
#       root /var/www/example.com;
#       index index.html;
#
#       location / {
#               try_files $uri $uri/ =404;
#       }
#}

```
### Nginx 文件根目录

```
root /var/www/html
```
/var/www/html 为Nginx文件根目录

修改该路径下.html文件重启Nginx就能看到对应修改的东西。

修改端口时切记开放端口权限。

### 修改默认端口支持域名+端口访问
依旧是修改```/etc/nginx/sites-enabled/default```这个文件

```
listen 8001;
server_name www.ipersistence.top;
```
### 欢迎访问 <http://ipersistence.top:8001/>
### 参考链接 <http://blog.takwolf.com/2016/10/19/setup-nginx-on-ubuntu/index.html>
